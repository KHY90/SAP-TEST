<mvc:View
    controllerName="ui5.walkthrough.controller.MainPage"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:fb="sap.ui.comp.filterbar"
    xmlns:svm="sap.ui.comp.smartvariants"
    xmlns:core="sap.ui.core"
    height="100%"
>
    <f:DynamicPage
        id="mainPages"
        stickySubheaderProvider="iconTabBar"
        class="sapUiNoContentPadding"
        toggleHeaderOnTitleClick="true"
        headerExpanded="{/headerExpanded}"
    >
        <f:title>
            <f:DynamicPageTitle>
                <f:heading>
                    <svm:SmartVariantManagement
                        id="svm"
                        showExecuteOnSelection="true"
                    />
                </f:heading>
                <f:expandedContent>
                    <Label
                        id="expandedLabel"
                        text="카페 메뉴 필터"
                    />
                </f:expandedContent>
                <f:snappedContent>
                    <Label
                        id="snappedLabel"
                        text="카페 메뉴 필터"
                    />
                </f:snappedContent>
            </f:DynamicPageTitle>
        </f:title>

        <f:header>
            <f:DynamicPageHeader>
                <f:content>
                    <fb:FilterBar
                        id="filterbar"
                        persistencyKey="myPersKey"
                        useToolbar="false"
                        search=".onSearch"
                        filterChange=".onFilterChange"
                        afterVariantLoad=".onAfterVariantLoad"
                    >
                        <fb:filterGroupItems>
                            <!-- 카테고리 필터 -->
                            <fb:FilterGroupItem
                                name="Category"
                                label="카테고리"
                                groupName="Filters"
                                visibleInFilterBar="true"
                            >
                                <fb:control>
                                    <MultiComboBox
                                        id="categoryFilter"
                                        selectionChange="onCategoryFilterChange"
                                        items="{
                    path: 'RequestModel>/categories',
                    templateShareable: true
                }"
                                    >
                                        <core:Item
                                            key="{RequestModel>key}"
                                            text="{RequestModel>name}"
                                        />
                                    </MultiComboBox>
                                </fb:control>
                            </fb:FilterGroupItem>

                            <!-- 소그룹 필터 -->
                            <fb:FilterGroupItem
                                name="SubGroup"
                                label="소그룹"
                                groupName="Filters"
                                visibleInFilterBar="true"
                            >
                                <fb:control>
                                    <MultiComboBox
                                        id="subGroupFilter"
                                        selectionChange="onSubGroupFilterChange"
                                        items="{
                    path: 'RequestModel>/subGroups',
                    templateShareable: true
                }"
                                    >
                                        <core:Item
                                            key="{RequestModel>key}"
                                            text="{RequestModel>name}"
                                        />
                                    </MultiComboBox>
                                </fb:control>
                            </fb:FilterGroupItem>

                            <!-- 메뉴 코드 필터 -->
                            <fb:FilterGroupItem
                                name="MenuCode"
                                label="메뉴 코드"
                                groupName="Filters"
                                visibleInFilterBar="true"
                            >
                                <fb:control>
                                    <Input
                                        id="menuCodeFilter"
                                        liveChange="onMenuCodeFilterChange"
                                        placeholder="메뉴 코드를 입력하세요"
                                    />
                                </fb:control>
                            </fb:FilterGroupItem>

                            <!-- 가격 필터 -->
                            <fb:FilterGroupItem
                                name="Price"
                                label="가격"
                                groupName="Filters"
                                visibleInFilterBar="true"
                            >
                                <fb:control>
                                    <HBox>
                                        <Input
                                            id="priceMinFilter"
                                            placeholder="최소 가격"
                                            type="Number"
                                            liveChange="onPriceFilterChange"
                                        />
                                        <Text text="~" />
                                        <Input
                                            id="priceMaxFilter"
                                            placeholder="최대 가격"
                                            type="Number"
                                            liveChange="onPriceFilterChange"
                                        />
                                    </HBox>
                                </fb:control>
                            </fb:FilterGroupItem>
                        </fb:filterGroupItems>
                    </fb:FilterBar>
                </f:content>
            </f:DynamicPageHeader>
        </f:header>

        <f:content>
            <IconTabBar
                id="iconTabBar"
                class="sapUiResponsiveContentPadding"
            >
                <items>
                    <IconTabFilter text="메뉴 목록">
                        <Table
                            id="idMenuTable"
                            inset="false"
                            sticky="HeaderToolbar,ColumnHeaders"
                            items="{
                                path: 'RequestModel>/',
                                templateShareable: true
                            }"
                            itemPress="onItemPress"
                        >
                            <headerToolbar>
                                <OverflowToolbar>
                                    <!-- <Title text="카페 메뉴" level="H2" /> -->
                                    <Button
                                        text="메뉴 등록"
                                        type="Emphasized"
                                        press="onRegisterPress"
                                    />
                                    <ToolbarSpacer />

                                    <Button
                                        tooltip="Sort"
                                        icon="sap-icon://sort"
                                        press="handleSortButtonPressed"
                                    />
                                    <Button
                                        tooltip="Filter"
                                        icon="sap-icon://filter"
                                        press="handleFilterButtonPressed"
                                    />
                                    <Button
                                        tooltip="Group"
                                        icon="sap-icon://group-2"
                                        press="handleGroupButtonPressed"
                                    />
                                </OverflowToolbar>
                            </headerToolbar>
                            <columns>
                                <Column>
                                    <Text text="등록번호" />
                                </Column>
                                <Column>
                                    <Text text="상품 이름" />
                                </Column>
                                <Column>
                                    <Text text="카테고리" />
                                </Column>
                                <Column>
                                    <Text text="가격" />
                                </Column>
                                <Column>
                                    <Text text="등록 날짜" />
                                </Column>
                                <Column>
                                    <Text text="상세보기" />
                                </Column>
                            </columns>
                            <items>
                                <ColumnListItem>
                                    <cells>
                                        <Text text="{RequestModel>menu_code}" />
                                        <Text
                                            text="{RequestModel>menu_name_kor}"
                                        />
                                        <Text
                                            text="{RequestModel>menu_category}"
                                        />
                                        <Text
                                            text="{RequestModel>menu_price}"
                                        />
                                        <Text
                                            text="{RequestModel>registration_date}"
                                        />
                                        <Button
                                            icon="sap-icon://action"
                                            type="Transparent"
                                            press="onDetailPress"
                                        />
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>
                    </IconTabFilter>
                </items>
            </IconTabBar>
        </f:content>
    </f:DynamicPage>
</mvc:View>
